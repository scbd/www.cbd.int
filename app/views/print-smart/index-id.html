<div>
	<style> .strikethru { text-decoration:line-through; } </style>
	<ng-include src="'/app/views/print-smart/header.html'"></ng-include>

	<div class="container ng-cloak">
		<div class="row" ng-hide="badge">
			<div class="col-md-12">
				<b><i class="fa fa-cog fa-spin"></i> Loading....</b>
			</div>
		</div>
				<div class="panel-heading clearfix">
				</div>
		<div class="row" ng-show="badge">
			<div class="col-md-4">
				<h3>{{model.name}}</h3>
				<div ng-show="model.government"><b>{{model.government}}</b></div>
				{{model.organization}}
			</div>
</div>
		<div class="row" ng-show="badge" >
			<div class="col-md-12">
				<table width="100%" style="margin:20px 10px" class="table">

					<tr ng-repeat-start="box in boxes">
						<th style="vertical-align:middle"><a ng-click="flagCompleted(box.requests, true)"><i class="fa fa-lg fa-check-circle-o" style="color:gray"></i></a> </th>
						<th style="vertical-align:middle">Document</th>
						<th style="vertical-align:middle">Language</th>
						<th style="vertical-align:middle">Requested</th>
						<th style="vertical-align:middle">Delivered</th>
						<th style="vertical-align:middle;font-size:200%;white-space:no-wrap" class="text-right"><span class="label label-info">&nbsp;{{box.id}}&nbsp;</span></th>
					</tr>
					<tr ng-repeat="request in box.requests" style="height:40px">
						<td>
							<a ng-click="flagCompleted(request, !request.isComplete)"><i ng-class="{ fa: true, 'fa-lg': true, 'fa-check-circle-o': request.isComplete, 'fa-circle-o': !request.isComplete }"></i></a> 
						</td>
						<td><span ng-class="{ strikethru: request.isComplete }">{{request.documentSymbol}}</span></td>
						<td>{{languages[request.documentLanguage]}}</td>
						<td><span am-time-ago="{{fixDate(request.createdOn)}}"></span></td>
						<td>
							<span am-time-ago="{{fixDate(request.deliveredOn)}}"></span>
							<span ng-show="!request.deliveredOn" class="label label-default" ng-class="{'label-warning':request.isComplete}"><i class="fa fa-exclamation"></i> Not delivered</span>
						</td>
						<td  class="text-right">
							<button ng-show="!request.isComplete" class="btn btn-default btn-xs">reprint</button>
						</td>
					</tr>
					<tr ng-repeat-end="" style="height:60px">
						<td></td>
						<td colspan="5">{{box.requests.length}} document(s).</td>
					</tr>
				</table>
				<div class="panel-footer clearfix"><span class="pull-left"><strong>{{remainingCount}} </strong>
					<ng-pluralize count="remainingCount" when="{ one: 'item left', other: 'items left' }"></ng-pluralize></span>
					<button ng-click="clearCompleted()" ng-show="remainingCount &lt; requests.length" class="btn btn-default btn-xs pull-right">Clear completed ({{requests.length - remainingCount}})</button>
				</div>
			</div>
		</div>
	</div>
</div>