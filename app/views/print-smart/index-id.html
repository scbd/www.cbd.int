<div>
	<style> .strikethru { text-decoration:line-through; } </style>

	<div class="container ng-cloak">
		
		<div class="row" ng-show="loading">
			<div class="col-md-12">
				<h3><i class="fa fa-cog fa-spin"></i> Loading....</h3>
			</div>
		</div>

		<div class="row" ng-hide="loading" >
			<div class="col-md-12">

				<table width="100%" style="margin:20px 10px" ng-hide="error">
					<tr >
						<td>
							<h3 ng-hide="allRequests().length">No document</h3>
							<h3 ng-show="allRequests().length">{{requestsToCommit().length}} of {{allRequests().length}} document(s) ready</h3>
						</td>
						<td class="text-right" ng-show="allRequests().length">
							<button class="btn btn-primary btn-lg" ng-disabled="requestsToCommit().length==0" ng-click="commit()">Clear {{requestsToCommit().length}}  documents »</button>
						</td>
					</tr>
				</table>
				<table width="100%" style="margin:20px 10px" class="table">

					<tr ng-repeat-start="box in boxes">
						<th style="vertical-align:middle"></th>
						<th style="vertical-align:middle">Document</th>
						<th style="vertical-align:middle">Language</th>
						<th style="vertical-align:middle">Requested</th>
						<th style="vertical-align:middle">Printed</th>
						<th style="vertical-align:middle;font-size:200%;white-space:no-wrap" class="text-right"><span class="label label-info">&nbsp;{{box.id}}&nbsp;</span></th>
					</tr>
					<tr ng-repeat="request in box.requests" style="height:40px">
						<td class="text-center">
							<i ng-show="request.loading"     class="fa fa-lg fa-cog fa-spin"></i>
							<i ng-show="request.deliveredOn" class="fa fa-lg" ng-class="{ 'fa-check-circle-o': request.completed, 'fa-circle-o': !request.completed }"></i>
							<a ng-hide="request.deliveredOn || request.loading" ng-click="flag(request,!request.completed)"><i class="fa fa-lg" ng-class="{ 'fa-check-circle-o': request.completed, 'fa-circle-o': !request.completed }"></i></a> 
						</td>
						<td ng-class="{ strikethru: request.completed }">{{request.documentSymbol}}</td>
						<td ng-class="{ strikethru: request.completed }">{{languages[request.documentLanguage]}}</td>
						<td ng-class="{ strikethru: request.completed }"><span am-time-ago="{{fixDate(request.createdOn)}}"></span></td>
						<td colspan="2">
							<span ng-class="{ strikethru: request.completed }" am-time-ago="{{fixDate(request.printedOn)}}"></span>
							<span ng-show="!request.printedOn" class="label label-default" ng-class="{'label-warning':request.completed}">Document is not printed</span>
						</td>
					</tr>
					<tr ng-repeat-end="" style="height:60px">
						<td></td>
						<td colspan="5" class="text-right">
							<button ng-show="box.requests.length>10" class="btn btn-primary btn-lg" ng-disabled="requestsToCommit().length==0" ng-click="commit()">Clear {{requestsToCommit().length}}  documents »</button>
						</td>
					</tr>
				</table>
			</div>
		</div>


		<div class="row" ng-show="error">
			<div class="col-md-offset-2 col-md-8 col-sm-12">

				<div class="alert alert-danger" ng-show="isNotAuthorized()">
				  <b>You are not authorized!</b> Please contact tech support!
				</div>

				<div class="alert alert-danger" ng-show="isBadgeInvalid()">
					<img style="margin:3px" class="pull-right" src="/app/views/print-smart/sample-barcode.png">
					<b>Badge number is invalid.</b><br/>
					You must provide the number located on the top right of the CBD meeting access badge.
				</div>

				<div class="alert alert-danger" ng-show="isOtherError()">
					<b>Unknown error has occured.</b><br/>
					Please retry or contact tech support.
				</div>

			</div>
		</div>

	</div>
</div>